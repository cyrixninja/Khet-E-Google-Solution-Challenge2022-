{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\Joel John Joseph\\\\Desktop\\\\SEM PROJ IDEAS\\\\NEW PROJECTS\\\\AAAAAAAANEW\\\\web-cw\\\\frontend\\\\src\\\\components\\\\SupplierProduct\\\\AddSupplierProduct.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { Form, Button, Row, Col, Container } from 'react-bootstrap';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useHistory } from 'react-router-dom';\nimport Message from './../../components/Message/Message';\nimport Loader from './../../components/Loader/Loader';\nimport { createSupplierProduct } from '../../actions/supplierProduct';\n\nconst AddSupplierProduct = () => {\n  _s();\n\n  const [name, setName] = useState('');\n  const [email, setEmail] = useState('');\n  const [image, setImage] = useState('');\n  const [address, setAddress] = useState('');\n  const [cropSelection, setCropSelection] = useState('');\n  const [description, setDescription] = useState('');\n  const [phonenumber, setPhonenumber] = useState('');\n  const [storage, setStorage] = useState('');\n  const [uploading, setUploading] = useState(false);\n  const dispatch = useDispatch();\n  let history = useHistory();\n  const productCreate = useSelector(state => state.productCreate);\n  const {\n    loading,\n    success,\n    error\n  } = productCreate;\n  const userLogin = useSelector(state => state.userLogin);\n  const {\n    userInfo\n  } = userLogin;\n  useEffect(() => {\n    if (!userInfo) {\n      history.push('/login');\n    }\n  }, [userInfo, history, dispatch]);\n\n  const submitHandler = e => {\n    e.preventDefault();\n    dispatch(createSupplierProduct({\n      name,\n      email,\n      address,\n      cropSelection,\n      storage,\n      image,\n      phonenumber,\n      description\n    }));\n    setName('');\n    setEmail('');\n    setImage('');\n    setAddress('');\n    setCropSelection('');\n    setPhonenumber('');\n    setStorage('');\n  };\n\n  const uploadFileHandler = async e => {\n    const file = e.target.files[0];\n    const formData = new FormData();\n    formData.append('image', file);\n    setUploading(true);\n\n    try {\n      const config = {\n        headers: {\n          'Content-type': 'multipart/form-data'\n        }\n      };\n      const {\n        data\n      } = await axios.post('/api/upload', formData, config);\n      setImage(data);\n      setUploading(false);\n    } catch (error) {\n      console.error(error);\n      setUploading(false);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(Container, {\n    children: [success && /*#__PURE__*/_jsxDEV(Message, {\n      variant: \"success\",\n      children: \"Your product has been submitted\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 25\n    }, this), error && /*#__PURE__*/_jsxDEV(Message, {\n      variant: \"danger\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 23\n    }, this), loading && /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 25\n    }, this), /*#__PURE__*/_jsxDEV(Form, {\n      onSubmit: submitHandler,\n      children: /*#__PURE__*/_jsxDEV(Row, {\n        children: [/*#__PURE__*/_jsxDEV(Col, {\n          md: 5,\n          children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n            controlId: \"name\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: [\"Name \", /*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  color: 'red'\n                },\n                children: \"*\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 99,\n                columnNumber: 46\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 99,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              type: \"name\",\n              placeholder: \"Enter name\",\n              value: name,\n              required: true,\n              onChange: e => setName(e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 100,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n            controlId: \"email\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: [\"Email Address / NIC \", /*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  color: 'red'\n                },\n                children: \"*\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 109,\n                columnNumber: 61\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 109,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              type: \"nic\",\n              placeholder: \"Enter email or NIC\",\n              value: email,\n              required: true,\n              onChange: e => setEmail(e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 110,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n            controlId: \"address\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: [\"Address \", /*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  color: 'red'\n                },\n                children: \"*\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 119,\n                columnNumber: 49\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 119,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              type: \"address\",\n              as: \"textarea\",\n              rows: 1,\n              placeholder: \"Enter address\",\n              value: address,\n              required: true,\n              onChange: e => setAddress(e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 120,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 118,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n            controlId: \"cropSelection\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: [\"Crop Selection \", /*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  color: 'red'\n                },\n                children: \"*\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 130,\n                columnNumber: 56\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 130,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              type: \"cropSelection\",\n              placeholder: \"Enter crop selection\",\n              value: cropSelection,\n              required: true,\n              onChange: e => setCropSelection(e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 131,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 129,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n            controlId: \"storage\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: [\"Product Size \", /*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  color: 'red'\n                },\n                children: \"*\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 140,\n                columnNumber: 54\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 140,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              type: \"storage\",\n              placeholder: \"Enter size (kg)\",\n              value: storage,\n              required: true,\n              onChange: e => setStorage(e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 141,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 139,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Col, {\n          md: 5,\n          children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n            controlId: \"image\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: [\"Image \", /*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  color: 'red'\n                },\n                children: \"*\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 152,\n                columnNumber: 47\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 152,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              type: \"text\",\n              placeholder: \"Enter image url\",\n              value: image,\n              required: true,\n              onChange: e => setImage(e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 153,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Form.File, {\n              id: \"image-file\",\n              label: \"Choose File\",\n              custom: true,\n              onChange: uploadFileHandler\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 160,\n              columnNumber: 29\n            }, this), uploading && /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 166,\n              columnNumber: 43\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 151,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n            controlId: \"phonenumber\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: [\"Phone Number \", /*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  color: 'red'\n                },\n                children: \"*\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 169,\n                columnNumber: 54\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 169,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              type: \"phonenumber\",\n              placeholder: \"Enter phonenumber\",\n              value: phonenumber,\n              required: true,\n              onChange: e => setPhonenumber(e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 170,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 168,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n            controlId: \"description\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: [\"Description \", /*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  color: 'red'\n                },\n                children: \"*\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 179,\n                columnNumber: 53\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 179,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              as: \"textarea\",\n              rows: 3,\n              type: \"description\",\n              placeholder: \"Enter description\",\n              value: description,\n              required: true,\n              onChange: e => setDescription(e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 180,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 178,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 189,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            type: \"submit\",\n            variant: \"primary\",\n            children: \"Submit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 190,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 91,\n    columnNumber: 9\n  }, this);\n};\n\n_s(AddSupplierProduct, \"0nMGMXVwsHKaOxTAxCt5pMzuvTc=\", false, function () {\n  return [useDispatch, useHistory, useSelector, useSelector];\n});\n\n_c = AddSupplierProduct;\nexport default AddSupplierProduct;\n\nvar _c;\n\n$RefreshReg$(_c, \"AddSupplierProduct\");","map":{"version":3,"sources":["C:/Users/Joel John Joseph/Desktop/SEM PROJ IDEAS/NEW PROJECTS/AAAAAAAANEW/web-cw/frontend/src/components/SupplierProduct/AddSupplierProduct.jsx"],"names":["React","useState","useEffect","axios","Form","Button","Row","Col","Container","useDispatch","useSelector","useHistory","Message","Loader","createSupplierProduct","AddSupplierProduct","name","setName","email","setEmail","image","setImage","address","setAddress","cropSelection","setCropSelection","description","setDescription","phonenumber","setPhonenumber","storage","setStorage","uploading","setUploading","dispatch","history","productCreate","state","loading","success","error","userLogin","userInfo","push","submitHandler","e","preventDefault","uploadFileHandler","file","target","files","formData","FormData","append","config","headers","data","post","console","color","value"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport axios from 'axios'\r\nimport {\r\n    Form,\r\n    Button,\r\n    Row,\r\n    Col,\r\n    Container,\r\n} from 'react-bootstrap'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { useHistory } from 'react-router-dom'\r\nimport Message from './../../components/Message/Message'\r\nimport Loader from './../../components/Loader/Loader'\r\nimport { createSupplierProduct } from '../../actions/supplierProduct'\r\n\r\nconst AddSupplierProduct = () => {\r\n\r\n    const [name, setName] = useState('')\r\n    const [email, setEmail] = useState('')\r\n    const [image, setImage] = useState('')\r\n    const [address, setAddress] = useState('')\r\n    const [cropSelection, setCropSelection] = useState('')\r\n    const [description, setDescription] = useState('')\r\n    const [phonenumber, setPhonenumber] = useState('')\r\n    const [storage, setStorage] = useState('')\r\n    const [uploading, setUploading] = useState(false)\r\n\r\n    const dispatch = useDispatch()\r\n    let history = useHistory()\r\n\r\n    const productCreate = useSelector(state => state.productCreate)\r\n    const { loading, success, error } = productCreate\r\n\r\n    const userLogin = useSelector(state => state.userLogin)\r\n    const { userInfo } = userLogin\r\n\r\n    useEffect(() => {\r\n        if (!userInfo) {\r\n            history.push('/login')\r\n        }\r\n    }, [userInfo, history, dispatch])\r\n\r\n    const submitHandler = (e) => {\r\n        e.preventDefault()\r\n        dispatch(createSupplierProduct({\r\n            name,\r\n            email,\r\n            address,\r\n            cropSelection,\r\n            storage,\r\n            image,\r\n            phonenumber,\r\n            description,\r\n        })\r\n        )\r\n\r\n        setName('')\r\n        setEmail('')\r\n        setImage('')\r\n        setAddress('')\r\n        setCropSelection('')\r\n        setPhonenumber('')\r\n        setStorage('')\r\n    }\r\n\r\n    const uploadFileHandler = async (e) => {\r\n        const file = e.target.files[0]\r\n        const formData = new FormData()\r\n        formData.append('image', file)\r\n        setUploading(true)\r\n\r\n        try {\r\n            const config = {\r\n                headers: {\r\n                    'Content-type': 'multipart/form-data'\r\n                }\r\n            }\r\n\r\n            const { data } = await axios.post('/api/upload', formData, config)\r\n\r\n            setImage(data)\r\n            setUploading(false)\r\n\r\n        } catch (error) {\r\n            console.error(error)\r\n            setUploading(false)\r\n        }\r\n    }\r\n\r\n    return (\r\n        <Container>\r\n            {success && <Message variant='success'>Your product has been submitted</Message>}\r\n            {error && <Message variant='danger'>{error}</Message>}\r\n            {loading && <Loader />}\r\n            <Form onSubmit={submitHandler}>\r\n                <Row>\r\n                    <Col md={5}>\r\n                        <Form.Group controlId='name'>\r\n                            <Form.Label>Name <span style={{ color: 'red' }}>*</span></Form.Label>\r\n                            <Form.Control\r\n                                type=\"name\"\r\n                                placeholder=\"Enter name\"\r\n                                value={name}\r\n                                required\r\n                                onChange={(e) => setName(e.target.value)}\r\n                            ></Form.Control>\r\n                        </Form.Group>\r\n                        <Form.Group controlId='email'>\r\n                            <Form.Label>Email Address / NIC <span style={{ color: 'red' }}>*</span></Form.Label>\r\n                            <Form.Control\r\n                                type=\"nic\"\r\n                                placeholder=\"Enter email or NIC\"\r\n                                value={email}\r\n                                required\r\n                                onChange={(e) => setEmail(e.target.value)}\r\n                            ></Form.Control>\r\n                        </Form.Group>\r\n                        <Form.Group controlId='address'>\r\n                            <Form.Label>Address <span style={{ color: 'red' }}>*</span></Form.Label>\r\n                            <Form.Control\r\n                                type=\"address\"\r\n                                as=\"textarea\" rows={1}\r\n                                placeholder=\"Enter address\"\r\n                                value={address}\r\n                                required\r\n                                onChange={(e) => setAddress(e.target.value)}\r\n                            ></Form.Control>\r\n                        </Form.Group>\r\n                        <Form.Group controlId='cropSelection'>\r\n                            <Form.Label>Crop Selection <span style={{ color: 'red' }}>*</span></Form.Label>\r\n                            <Form.Control\r\n                                type=\"cropSelection\"\r\n                                placeholder=\"Enter crop selection\"\r\n                                value={cropSelection}\r\n                                required\r\n                                onChange={(e) => setCropSelection(e.target.value)}\r\n                            ></Form.Control>\r\n                        </Form.Group>\r\n                        <Form.Group controlId='storage'>\r\n                            <Form.Label>Product Size <span style={{ color: 'red' }}>*</span></Form.Label>\r\n                            <Form.Control\r\n                                type=\"storage\"\r\n                                placeholder=\"Enter size (kg)\"\r\n                                value={storage}\r\n                                required\r\n                                onChange={(e) => setStorage(e.target.value)}\r\n                            ></Form.Control>\r\n                        </Form.Group>\r\n                    </Col>\r\n                    <Col md={5}>\r\n                        <Form.Group controlId='image'>\r\n                            <Form.Label>Image <span style={{ color: 'red' }}>*</span></Form.Label>\r\n                            <Form.Control\r\n                                type=\"text\"\r\n                                placeholder=\"Enter image url\"\r\n                                value={image}\r\n                                required\r\n                                onChange={(e) => setImage(e.target.value)}\r\n                            ></Form.Control>\r\n                            <Form.File\r\n                                id='image-file'\r\n                                label='Choose File'\r\n                                custom\r\n                                onChange={uploadFileHandler}\r\n                            ></Form.File>\r\n                            {uploading && <Loader />}\r\n                        </Form.Group>\r\n                        <Form.Group controlId='phonenumber'>\r\n                            <Form.Label>Phone Number <span style={{ color: 'red' }}>*</span></Form.Label>\r\n                            <Form.Control\r\n                                type=\"phonenumber\"\r\n                                placeholder=\"Enter phonenumber\"\r\n                                value={phonenumber}\r\n                                required\r\n                                onChange={(e) => setPhonenumber(e.target.value)}\r\n                            ></Form.Control>\r\n                        </Form.Group>\r\n                        <Form.Group controlId='description'>\r\n                            <Form.Label>Description <span style={{ color: 'red' }}>*</span></Form.Label>\r\n                            <Form.Control\r\n                                as=\"textarea\" rows={3}\r\n                                type=\"description\"\r\n                                placeholder=\"Enter description\"\r\n                                value={description}\r\n                                required\r\n                                onChange={(e) => setDescription(e.target.value)}\r\n                            ></Form.Control>\r\n                        </Form.Group>\r\n                        <br />\r\n                        <Button type=\"submit\" variant=\"primary\">Submit</Button>\r\n                    </Col>\r\n                </Row>\r\n            </Form>\r\n        </Container>\r\n    )\r\n}\r\n\r\nexport default AddSupplierProduct\r\n\r\n"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\Joel John Joseph\\\\Desktop\\\\SEM PROJ IDEAS\\\\khet-e-db\\\\frontend\\\\src\\\\screens\\\\FarmerProducts\\\\FarmerProducts.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport { Col, Container, Row, Image, ListGroup, Card, Button, Form } from 'react-bootstrap';\nimport { getroductsDetails, createProductReview } from './../../actions/supplierProduct';\nimport Loader from '../../components/Loader/Loader';\nimport Message from '../../components/Message/Message';\nimport Meta from '../../components/Helmet/Meta';\n\nconst FarmerProduct = ({\n  history,\n  match\n}) => {\n  _s();\n\n  const userId = match.params.id;\n  const dispatch = useDispatch();\n  const FarmerProductDetails = useSelector(state => state.FarmerProductDetails);\n  const {\n    loading,\n    error,\n    product\n  } = FarmerProductDetails;\n  const farmerReviewCreate = useSelector(state => state.farmerReviewCreate);\n  const {\n    loading: loadingReview,\n    error: loadingError,\n    success: successReview\n  } = farmerReviewCreate;\n  const userLogin = useSelector(state => state.userLogin);\n  const {\n    userInfo\n  } = userLogin;\n  const [rating, setRating] = useState(0);\n  const [comment, setComment] = useState('');\n  useEffect(() => {\n    if (successReview) {// history.push('/admin/dashboard')\n    } else {\n      if (!product.name || product._id !== userId) {\n        dispatch(getroductsDetails(userId));\n      }\n    } // eslint-disable-next-line react-hooks/exhaustive-deps\n\n  }, [dispatch, match, successReview, history, userId]);\n\n  const submitHandler = e => {\n    e.preventDefault();\n    dispatch(createProductReview(match.params.id, {\n      rating,\n      comment\n    }));\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"productScreen\",\n    children: [/*#__PURE__*/_jsxDEV(Meta, {\n      title: \"Khet-E | Admin Farmer Review\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Container, {\n      children: [/*#__PURE__*/_jsxDEV(Link, {\n        className: \"btn btn-go-back btn-dark\",\n        to: \"/admin/supplierproducts\",\n        children: \"GO BACK\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 17\n      }, this), loading ? /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 27\n      }, this) : error ? /*#__PURE__*/_jsxDEV(Message, {\n        variant: \"danger\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 31\n      }, this) : /*#__PURE__*/_jsxDEV(Row, {\n        className: \"p-1 seed-product\",\n        children: [/*#__PURE__*/_jsxDEV(Col, {\n          md: 5,\n          children: /*#__PURE__*/_jsxDEV(Image, {\n            className: \"mx-auto image-machine\",\n            src: product.image,\n            alt: product.name,\n            width: 200\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 41\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 37\n        }, this), /*#__PURE__*/_jsxDEV(Col, {\n          md: 4,\n          children: /*#__PURE__*/_jsxDEV(ListGroup, {\n            className: \"borderless\",\n            variant: \"flush\",\n            children: [/*#__PURE__*/_jsxDEV(ListGroup.Item, {\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                children: \"Name \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 78,\n                columnNumber: 49\n              }, this), product.name]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 45\n            }, this), /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                children: \"Address \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 81,\n                columnNumber: 49\n              }, this), \" \", product.address]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 45\n            }, this), /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                children: [\"Product Description\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 84,\n                  columnNumber: 72\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 84,\n                columnNumber: 49\n              }, this), \" \", product.description]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 83,\n              columnNumber: 45\n            }, this), product.phonenumber ? /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                children: [\" Contact Number\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 89,\n                  columnNumber: 76\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 89,\n                columnNumber: 57\n              }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n                rel: \"noreferrer\",\n                target: \"_blank\",\n                href: `https://wa.me/${product.phonenumber}`,\n                children: product.phonenumber\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 90,\n                columnNumber: 57\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 88,\n              columnNumber: 53\n            }, this) : '', /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n              children: /*#__PURE__*/_jsxDEV(Row, {\n                children: [/*#__PURE__*/_jsxDEV(Col, {\n                  md: 6,\n                  children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                    children: \"Crop \"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 99,\n                    columnNumber: 57\n                  }, this), product.cropSelection]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 98,\n                  columnNumber: 53\n                }, this), product.storage ? /*#__PURE__*/_jsxDEV(Col, {\n                  md: 6,\n                  children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                    children: \"Quantity \"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 104,\n                    columnNumber: 65\n                  }, this), product.storage, \" kg\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 103,\n                  columnNumber: 61\n                }, this) : '']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 97,\n                columnNumber: 49\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 96,\n              columnNumber: 45\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 41\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 37\n        }, this), /*#__PURE__*/_jsxDEV(Col, {\n          md: 3,\n          children: /*#__PURE__*/_jsxDEV(Card, {\n            children: /*#__PURE__*/_jsxDEV(ListGroup, {\n              children: /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  children: \"Write a Farmer Review\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 116,\n                  columnNumber: 53\n                }, this), successReview && /*#__PURE__*/_jsxDEV(Message, {\n                  variant: \"success\",\n                  children: \"Review submitted successfully\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 118,\n                  columnNumber: 57\n                }, this), loadingReview && /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 122,\n                  columnNumber: 71\n                }, this), loadingError && /*#__PURE__*/_jsxDEV(Message, {\n                  variant: \"danger\",\n                  children: loadingError\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 124,\n                  columnNumber: 57\n                }, this), userInfo && userInfo.isAdmin ? /*#__PURE__*/_jsxDEV(Form, {\n                  onSubmit: submitHandler,\n                  children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n                    controlId: \"rating\",\n                    children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                      children: \"Rating\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 129,\n                      columnNumber: 65\n                    }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                      as: \"select\",\n                      value: rating,\n                      onChange: e => setRating(e.target.value),\n                      children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                        value: \"\",\n                        children: \"Select...\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 135,\n                        columnNumber: 69\n                      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                        value: \"1\",\n                        children: \"1 - Poor\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 136,\n                        columnNumber: 69\n                      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                        value: \"2\",\n                        children: \"2 - Fair\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 137,\n                        columnNumber: 69\n                      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                        value: \"3\",\n                        children: \"3 - Good\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 138,\n                        columnNumber: 69\n                      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                        value: \"4\",\n                        children: \"4 - Very Good\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 139,\n                        columnNumber: 69\n                      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                        value: \"5\",\n                        children: \"5 - Excellent\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 140,\n                        columnNumber: 69\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 130,\n                      columnNumber: 65\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 128,\n                    columnNumber: 61\n                  }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n                    controlId: \"comment\",\n                    children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                      children: \"Feedback\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 144,\n                      columnNumber: 65\n                    }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                      as: \"textarea\",\n                      row: \"3\",\n                      value: comment,\n                      onChange: e => setComment(e.target.value)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 145,\n                      columnNumber: 65\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 143,\n                    columnNumber: 61\n                  }, this), /*#__PURE__*/_jsxDEV(Button, {\n                    disabled: loadingReview,\n                    type: \"submit\",\n                    variant: \"primary\",\n                    children: \"Submit\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 152,\n                    columnNumber: 61\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 127,\n                  columnNumber: 57\n                }, this) : /*#__PURE__*/_jsxDEV(Message, {\n                  children: [\"Please \", /*#__PURE__*/_jsxDEV(Link, {\n                    to: \"/login\",\n                    children: \"sign in\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 160,\n                    columnNumber: 72\n                  }, this), \" to write a review\", ' ']\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 159,\n                  columnNumber: 61\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 115,\n                columnNumber: 49\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 114,\n              columnNumber: 45\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 41\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 37\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 33\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 59,\n    columnNumber: 9\n  }, this);\n};\n\n_s(FarmerProduct, \"GF1JCMTr3HItp1zkYBW3AjJVQI4=\", false, function () {\n  return [useDispatch, useSelector, useSelector, useSelector];\n});\n\n_c = FarmerProduct;\nexport default FarmerProduct;\n\nvar _c;\n\n$RefreshReg$(_c, \"FarmerProduct\");","map":{"version":3,"sources":["C:/Users/Joel John Joseph/Desktop/SEM PROJ IDEAS/khet-e-db/frontend/src/screens/FarmerProducts/FarmerProducts.jsx"],"names":["React","useState","useEffect","useDispatch","useSelector","Link","Col","Container","Row","Image","ListGroup","Card","Button","Form","getroductsDetails","createProductReview","Loader","Message","Meta","FarmerProduct","history","match","userId","params","id","dispatch","FarmerProductDetails","state","loading","error","product","farmerReviewCreate","loadingReview","loadingError","success","successReview","userLogin","userInfo","rating","setRating","comment","setComment","name","_id","submitHandler","e","preventDefault","image","address","description","phonenumber","cropSelection","storage","isAdmin","target","value"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { Link } from 'react-router-dom';\r\nimport {\r\n    Col,\r\n    Container,\r\n    Row,\r\n    Image,\r\n    ListGroup,\r\n    Card,\r\n    Button,\r\n    Form\r\n} from 'react-bootstrap';\r\nimport { getroductsDetails, createProductReview } from './../../actions/supplierProduct'\r\nimport Loader from '../../components/Loader/Loader';\r\nimport Message from '../../components/Message/Message';\r\nimport Meta from '../../components/Helmet/Meta';\r\n\r\nconst FarmerProduct = ({ history, match }) => {\r\n\r\n    const userId = match.params.id\r\n\r\n    const dispatch = useDispatch()\r\n\r\n    const FarmerProductDetails = useSelector(state => state.FarmerProductDetails)\r\n    const { loading, error, product } = FarmerProductDetails\r\n\r\n    const farmerReviewCreate = useSelector(state => state.farmerReviewCreate)\r\n    const { loading: loadingReview, error: loadingError, success: successReview } = farmerReviewCreate\r\n\r\n    const userLogin = useSelector((state) => state.userLogin)\r\n    const { userInfo } = userLogin\r\n\r\n    const [rating, setRating] = useState(0)\r\n    const [comment, setComment] = useState('')\r\n\r\n    useEffect(() => {\r\n\r\n        if (successReview) {\r\n\r\n            // history.push('/admin/dashboard')\r\n        } else {\r\n            if (!product.name || product._id !== userId) {\r\n                dispatch(getroductsDetails(userId))\r\n            }\r\n        }\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [dispatch, match, successReview, history, userId])\r\n\r\n    const submitHandler = (e) => {\r\n        e.preventDefault()\r\n        dispatch(createProductReview(match.params.id, {\r\n            rating,\r\n            comment,\r\n        }))\r\n    }\r\n\r\n    return (\r\n        <div className=\"productScreen\">\r\n            <Meta\r\n                title=\"Khet-E | Admin Farmer Review\"\r\n            />\r\n            <Container>\r\n                <Link className=\"btn btn-go-back btn-dark\" to=\"/admin/supplierproducts\">GO BACK</Link>\r\n                {\r\n                    loading\r\n                        ? <Loader />\r\n                        : error\r\n                            ? <Message variant='danger'>{error}</Message>\r\n                            : (\r\n                                <Row className=\"p-1 seed-product\" >\r\n                                    <Col md={5}>\r\n                                        <Image className=\"mx-auto image-machine\" src={product.image} alt={product.name} width={200} />\r\n                                    </Col>\r\n                                    <Col md={4}>\r\n                                        <ListGroup className=\"borderless\" variant='flush'>\r\n                                            <ListGroup.Item>\r\n                                                <h4>Name </h4>{product.name}\r\n                                            </ListGroup.Item>\r\n                                            <ListGroup.Item>\r\n                                                <h4>Address </h4> {product.address}\r\n                                            </ListGroup.Item>\r\n                                            <ListGroup.Item>\r\n                                                <h4>Product Description<br /></h4> {product.description}\r\n                                            </ListGroup.Item>\r\n                                            {\r\n                                                product.phonenumber ? (\r\n                                                    <ListGroup.Item>\r\n                                                        <h4> Contact Number<br /></h4>\r\n                                                        <a rel=\"noreferrer\" target='_blank' href={`https://wa.me/${product.phonenumber}`}>\r\n                                                            {product.phonenumber}\r\n                                                        </a>\r\n                                                    </ListGroup.Item>\r\n                                                ) : ''\r\n                                            }\r\n                                            <ListGroup.Item>\r\n                                                <Row>\r\n                                                    <Col md={6}>\r\n                                                        <h4>Crop </h4>{product.cropSelection}\r\n                                                    </Col>\r\n                                                    {\r\n                                                        product.storage ? (\r\n                                                            <Col md={6}>\r\n                                                                <h4>Quantity </h4>{product.storage} kg\r\n                                                            </Col>\r\n                                                        ) : ''\r\n                                                    }\r\n                                                </Row>\r\n                                            </ListGroup.Item>\r\n                                        </ListGroup>\r\n                                    </Col>\r\n                                    <Col md={3}>\r\n                                        <Card>\r\n                                            <ListGroup>\r\n                                                <ListGroup.Item>\r\n                                                    <p>Write a Farmer Review</p>\r\n                                                    {successReview && (\r\n                                                        <Message variant='success'>\r\n                                                            Review submitted successfully\r\n                                                        </Message>\r\n                                                    )}\r\n                                                    {loadingReview && <Loader />}\r\n                                                    {loadingError && (\r\n                                                        <Message variant='danger'>{loadingError}</Message>\r\n                                                    )}\r\n                                                    {userInfo && userInfo.isAdmin ? (\r\n                                                        <Form onSubmit={submitHandler}>\r\n                                                            <Form.Group controlId='rating'>\r\n                                                                <Form.Label>Rating</Form.Label>\r\n                                                                <Form.Control\r\n                                                                    as='select'\r\n                                                                    value={rating}\r\n                                                                    onChange={(e) => setRating(e.target.value)}\r\n                                                                >\r\n                                                                    <option value=''>Select...</option>\r\n                                                                    <option value='1'>1 - Poor</option>\r\n                                                                    <option value='2'>2 - Fair</option>\r\n                                                                    <option value='3'>3 - Good</option>\r\n                                                                    <option value='4'>4 - Very Good</option>\r\n                                                                    <option value='5'>5 - Excellent</option>\r\n                                                                </Form.Control>\r\n                                                            </Form.Group>\r\n                                                            <Form.Group controlId='comment'>\r\n                                                                <Form.Label>Feedback</Form.Label>\r\n                                                                <Form.Control\r\n                                                                    as='textarea'\r\n                                                                    row='3'\r\n                                                                    value={comment}\r\n                                                                    onChange={(e) => setComment(e.target.value)}\r\n                                                                ></Form.Control>\r\n                                                            </Form.Group>\r\n                                                            <Button\r\n                                                                disabled={loadingReview}\r\n                                                                type='submit'\r\n                                                                variant='primary'\r\n                                                            >Submit</Button>\r\n                                                        </Form>\r\n                                                    ) : (\r\n                                                            <Message>\r\n                                                                Please <Link to='/login'>sign in</Link> to write a review{' '}\r\n                                                            </Message>\r\n                                                        )}\r\n                                                </ListGroup.Item>\r\n                                            </ListGroup>\r\n                                        </Card>\r\n                                    </Col>\r\n                                </Row>\r\n                            )\r\n                }\r\n            </Container>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default FarmerProduct\r\n"]},"metadata":{},"sourceType":"module"}
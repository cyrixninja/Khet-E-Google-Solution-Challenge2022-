{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\Joel John Joseph\\\\Desktop\\\\SEM PROJ IDEAS\\\\NEW PROJECTS\\\\AAAAAAAANEW\\\\web-cw\\\\frontend\\\\src\\\\screens\\\\Profile\\\\ProfileScreen.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect, useRef } from 'react';\nimport { Form, Button, Row, Col, Container, Table, Image, Overlay, Popover } from 'react-bootstrap';\nimport { Scrollbar } from \"react-scrollbars-custom\";\nimport { LinkContainer } from 'react-router-bootstrap';\nimport { useDispatch, useSelector } from 'react-redux';\nimport Message from './../../components/Message/Message';\nimport Loader from './../../components/Loader/Loader';\nimport { getUserDetails, updateUserProfile } from '../../actions/userActions';\nimport { listMyOrders } from './../../actions/orderAction';\nimport { listMyProducts } from './../../actions/supplierProduct';\nimport Meta from '../../components/Helmet/Meta';\n\nconst ProfileScreen = ({\n  history\n}) => {\n  _s();\n\n  const [show, setShow] = useState(false);\n  const [target, setTarget] = useState(null);\n  const ref = useRef(null);\n  const [name, setName] = useState('');\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [cropSelection, setCropSelection] = useState('');\n  const [confirmPassword, setConfirmPassword] = useState('');\n  const [message, setMessage] = useState(null);\n  const dispatch = useDispatch();\n  const userDetails = useSelector(state => state.userDetails);\n  const {\n    loading,\n    user,\n    error\n  } = userDetails;\n  const userLogin = useSelector(state => state.userLogin);\n  const {\n    userInfo\n  } = userLogin;\n  const userUpdateProfile = useSelector(state => state.userUpdateProfile);\n  const {\n    success\n  } = userUpdateProfile;\n  const orderListMy = useSelector(state => state.orderListMy);\n  const {\n    loading: loadingOrders,\n    error: errorOrders,\n    orders\n  } = orderListMy;\n  const supplierProdictListMy = useSelector(state => state.supplierProdictListMy);\n  const {\n    loading: loadingProducts,\n    error: errorProducts,\n    products\n  } = supplierProdictListMy;\n  useEffect(() => {\n    if (!userInfo) {\n      history.push('/login');\n    } else {\n      if (!user.name) {\n        dispatch(getUserDetails('profile'));\n        dispatch(listMyOrders());\n        dispatch(listMyProducts());\n      } else {\n        setName(user.name);\n        setEmail(user.email);\n        setCropSelection(user.cropSelection);\n      }\n    }\n  }, [userInfo, history, user, dispatch]);\n\n  const submitHandler = e => {\n    e.preventDefault();\n\n    if (password !== confirmPassword) {\n      setMessage('Passwords do not match');\n    } else {\n      dispatch(updateUserProfile({\n        id: user._id,\n        name,\n        email,\n        password,\n        cropSelection\n      }));\n    }\n  };\n\n  const handleClick = event => {\n    setShow(!show);\n    setTarget(event.target);\n  };\n\n  return /*#__PURE__*/_jsxDEV(Container, {\n    fluid: true,\n    style: {\n      marginBottom: '50px'\n    },\n    children: [/*#__PURE__*/_jsxDEV(Meta, {\n      title: \"Agroic | Profile\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Row, {\n      children: [/*#__PURE__*/_jsxDEV(Col, {\n        md: 3,\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          style: {\n            marginTop: '110px'\n          },\n          children: \"User Profile\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 21\n        }, this), message && /*#__PURE__*/_jsxDEV(Message, {\n          variant: \"danger\",\n          children: message\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 33\n        }, this), error && /*#__PURE__*/_jsxDEV(Message, {\n          variant: \"danger\",\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 31\n        }, this), success && /*#__PURE__*/_jsxDEV(Message, {\n          variant: \"success\",\n          children: \"Profile Updated!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 33\n        }, this), loading && /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 33\n        }, this), /*#__PURE__*/_jsxDEV(Form, {\n          onSubmit: submitHandler,\n          children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n            controlId: \"name\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: [\"Name \", /*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  color: 'red'\n                },\n                children: \"*\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 100,\n                columnNumber: 46\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 100,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              type: \"name\",\n              placeholder: \"Enter name\",\n              value: name,\n              required: true,\n              onChange: e => setName(e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 101,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n            controlId: \"email\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: [\"Email Address / NIC \", /*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  color: 'red'\n                },\n                children: \"*\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 110,\n                columnNumber: 61\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 110,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              type: \"nic\",\n              placeholder: \"Enter email or NIC\",\n              value: email,\n              required: true,\n              onChange: e => setEmail(e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 111,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n            controlId: \"cropSelection\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: \"Crop Selection (optional)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 120,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              type: \"cropSelection\",\n              placeholder: \"Enter cropSelection\",\n              value: cropSelection,\n              onChange: e => setCropSelection(e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 121,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n            controlId: \"password\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: \"Password\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 129,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              type: \"password\",\n              placeholder: \"Enter password\",\n              value: password,\n              onChange: e => setPassword(e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 130,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 128,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n            controlId: \"confirmPassword\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: \"Confirm password\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 138,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              type: \"password\",\n              placeholder: \"Confirm password\",\n              value: confirmPassword,\n              onChange: e => setConfirmPassword(e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 139,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 137,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            type: \"submit\",\n            variant: \"primary\",\n            children: \"Update\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 146,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Col, {\n        md: 9,\n        children: /*#__PURE__*/_jsxDEV(Scrollbar, {\n          style: {\n            width: '100%',\n            height: 630\n          },\n          children: /*#__PURE__*/_jsxDEV(Container, {\n            fluid: true,\n            children: [/*#__PURE__*/_jsxDEV(Row, {\n              children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                style: {\n                  marginTop: '110px'\n                },\n                children: \"My Orders\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 153,\n                columnNumber: 33\n              }, this), loadingOrders ? /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 154,\n                columnNumber: 50\n              }, this) : errorOrders ? /*#__PURE__*/_jsxDEV(Message, {\n                variant: \"danger\",\n                children: errorOrders\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 155,\n                columnNumber: 53\n              }, this) : /*#__PURE__*/_jsxDEV(Table, {\n                striped: true,\n                bordered: true,\n                hover: true,\n                responsive: true,\n                className: \"table-sm\",\n                children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                  children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                      children: \"ID\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 160,\n                      columnNumber: 57\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      children: \"DATE\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 161,\n                      columnNumber: 57\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      children: \"TOTAL\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 162,\n                      columnNumber: 57\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      children: \"PAID\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 163,\n                      columnNumber: 57\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      children: \"DELIVERED\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 164,\n                      columnNumber: 57\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      children: \"MORE\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 165,\n                      columnNumber: 57\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 159,\n                    columnNumber: 53\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 158,\n                  columnNumber: 49\n                }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                  children: orders.map(order => /*#__PURE__*/_jsxDEV(\"tr\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                      children: order._id\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 171,\n                      columnNumber: 61\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: order.createdAt.substring(0, 10)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 172,\n                      columnNumber: 61\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: order.totalPrice\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 173,\n                      columnNumber: 61\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: order.isPaid ? order.paidAt.substring(0, 10) : /*#__PURE__*/_jsxDEV(\"i\", {\n                        className: \"fas fa-times\",\n                        styles: {\n                          color: \"red\"\n                        }\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 175,\n                        columnNumber: 65\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 174,\n                      columnNumber: 61\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: order.isDelivered ? order.deliveredAt.substring(0, 10) : /*#__PURE__*/_jsxDEV(\"i\", {\n                        className: \"fas fa-times\",\n                        styles: {\n                          color: 'red'\n                        }\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 178,\n                        columnNumber: 65\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 177,\n                      columnNumber: 61\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: /*#__PURE__*/_jsxDEV(LinkContainer, {\n                        to: `/order/${order._id}`,\n                        children: /*#__PURE__*/_jsxDEV(Button, {\n                          className: \"btn-sm\",\n                          variant: \"success\",\n                          children: \"Details\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 182,\n                          columnNumber: 69\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 181,\n                        columnNumber: 65\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 180,\n                      columnNumber: 61\n                    }, this)]\n                  }, order._id, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 170,\n                    columnNumber: 57\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 168,\n                  columnNumber: 49\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 157,\n                columnNumber: 45\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 152,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Row, {\n              children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                style: {\n                  marginTop: '110px'\n                },\n                children: \"My Products\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 193,\n                columnNumber: 33\n              }, this), loadingProducts ? /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 194,\n                columnNumber: 52\n              }, this) : errorProducts ? /*#__PURE__*/_jsxDEV(Message, {\n                variant: \"danger\",\n                children: errorProducts\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 195,\n                columnNumber: 55\n              }, this) : /*#__PURE__*/_jsxDEV(Table, {\n                striped: true,\n                bordered: true,\n                hover: true,\n                responsive: true,\n                className: \"table-sm\",\n                children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                  children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                      children: \"NAME\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 200,\n                      columnNumber: 57\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      children: \"EMAIL/NIC\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 201,\n                      columnNumber: 57\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      children: \"ADDRESS\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 202,\n                      columnNumber: 57\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      children: \"IMAGE\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 203,\n                      columnNumber: 57\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      children: \"CROP\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 204,\n                      columnNumber: 57\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      children: \"REVIEWED\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 205,\n                      columnNumber: 57\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      children: \"EDIT\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 206,\n                      columnNumber: 57\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 199,\n                    columnNumber: 53\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 198,\n                  columnNumber: 49\n                }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                  children: products.map(product => /*#__PURE__*/_jsxDEV(\"tr\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                      children: product.name\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 212,\n                      columnNumber: 61\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: product.email\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 213,\n                      columnNumber: 61\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: product.address\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 214,\n                      columnNumber: 61\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: /*#__PURE__*/_jsxDEV(Image, {\n                        width: 70,\n                        rounded: true,\n                        src: product.image\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 216,\n                        columnNumber: 65\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 215,\n                      columnNumber: 61\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: product.cropSelection\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 218,\n                      columnNumber: 61\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      style: {\n                        textAlign: \"center\"\n                      },\n                      children: [product.isReviwed ? /*#__PURE__*/_jsxDEV(Button, {\n                        className: \"mt-2\",\n                        ref: target,\n                        onClick: handleClick,\n                        children: \" Check\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 222,\n                        columnNumber: 73\n                      }, this) : /*#__PURE__*/_jsxDEV(\"i\", {\n                        className: \"fas fa-times\",\n                        style: {\n                          color: 'red',\n                          fontSize: '24px'\n                        }\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 228,\n                        columnNumber: 73\n                      }, this), /*#__PURE__*/_jsxDEV(Overlay, {\n                        show: show,\n                        target: target,\n                        placement: \"bottom\",\n                        container: ref.current,\n                        containerPadding: 10,\n                        children: /*#__PURE__*/_jsxDEV(Popover, {\n                          id: \"popover-contained\",\n                          children: [/*#__PURE__*/_jsxDEV(Popover.Title, {\n                            as: \"h3\",\n                            children: [\"Rating: \", product.rating]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 238,\n                            columnNumber: 73\n                          }, this), product.reviews.map(review => /*#__PURE__*/_jsxDEV(Popover.Content, {\n                            children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                              children: [\"Feedback: \", review.comment]\n                            }, void 0, true, {\n                              fileName: _jsxFileName,\n                              lineNumber: 242,\n                              columnNumber: 85\n                            }, this)\n                          }, review._id, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 241,\n                            columnNumber: 81\n                          }, this))]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 237,\n                          columnNumber: 69\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 230,\n                        columnNumber: 65\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 219,\n                      columnNumber: 61\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: /*#__PURE__*/_jsxDEV(LinkContainer, {\n                        to: `/supplierproducts/${product._id}/edit`,\n                        children: /*#__PURE__*/_jsxDEV(Button, {\n                          variant: \"light\",\n                          className: \"btn btn-sm\",\n                          children: /*#__PURE__*/_jsxDEV(\"i\", {\n                            className: \"fas fa-edit\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 252,\n                            columnNumber: 73\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 251,\n                          columnNumber: 69\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 250,\n                        columnNumber: 65\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 249,\n                      columnNumber: 61\n                    }, this)]\n                  }, product._id, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 211,\n                    columnNumber: 57\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 209,\n                  columnNumber: 49\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 197,\n                columnNumber: 45\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 192,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 151,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 87,\n    columnNumber: 9\n  }, this);\n};\n\n_s(ProfileScreen, \"F1w2mCDb6Wfu1rXfbMHix1S8xfE=\", false, function () {\n  return [useDispatch, useSelector, useSelector, useSelector, useSelector, useSelector];\n});\n\n_c = ProfileScreen;\nexport default ProfileScreen;\n\nvar _c;\n\n$RefreshReg$(_c, \"ProfileScreen\");","map":{"version":3,"sources":["C:/Users/Joel John Joseph/Desktop/SEM PROJ IDEAS/NEW PROJECTS/AAAAAAAANEW/web-cw/frontend/src/screens/Profile/ProfileScreen.jsx"],"names":["React","useState","useEffect","useRef","Form","Button","Row","Col","Container","Table","Image","Overlay","Popover","Scrollbar","LinkContainer","useDispatch","useSelector","Message","Loader","getUserDetails","updateUserProfile","listMyOrders","listMyProducts","Meta","ProfileScreen","history","show","setShow","target","setTarget","ref","name","setName","email","setEmail","password","setPassword","cropSelection","setCropSelection","confirmPassword","setConfirmPassword","message","setMessage","dispatch","userDetails","state","loading","user","error","userLogin","userInfo","userUpdateProfile","success","orderListMy","loadingOrders","errorOrders","orders","supplierProdictListMy","loadingProducts","errorProducts","products","push","submitHandler","e","preventDefault","id","_id","handleClick","event","marginBottom","marginTop","color","value","width","height","map","order","createdAt","substring","totalPrice","isPaid","paidAt","isDelivered","deliveredAt","product","address","image","textAlign","isReviwed","fontSize","current","rating","reviews","review","comment"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useRef } from 'react'\r\nimport {\r\n    Form,\r\n    Button,\r\n    Row,\r\n    Col,\r\n    Container,\r\n    Table,\r\n    Image,\r\n    Overlay,\r\n    Popover\r\n} from 'react-bootstrap'\r\nimport { Scrollbar } from \"react-scrollbars-custom\";\r\nimport { LinkContainer } from 'react-router-bootstrap'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport Message from './../../components/Message/Message'\r\nimport Loader from './../../components/Loader/Loader'\r\nimport { getUserDetails, updateUserProfile } from '../../actions/userActions'\r\nimport { listMyOrders } from './../../actions/orderAction'\r\nimport { listMyProducts } from './../../actions/supplierProduct'\r\nimport Meta from '../../components/Helmet/Meta';\r\n\r\nconst ProfileScreen = ({ history }) => {\r\n\r\n    const [show, setShow] = useState(false);\r\n    const [target, setTarget] = useState(null);\r\n    const ref = useRef(null);\r\n\r\n    const [name, setName] = useState('')\r\n    const [email, setEmail] = useState('')\r\n    const [password, setPassword] = useState('')\r\n    const [cropSelection, setCropSelection] = useState('')\r\n    const [confirmPassword, setConfirmPassword] = useState('')\r\n    const [message, setMessage] = useState(null)\r\n\r\n    const dispatch = useDispatch()\r\n\r\n    const userDetails = useSelector(state => state.userDetails)\r\n    const { loading, user, error } = userDetails\r\n\r\n    const userLogin = useSelector(state => state.userLogin)\r\n    const { userInfo } = userLogin\r\n\r\n    const userUpdateProfile = useSelector(state => state.userUpdateProfile)\r\n    const { success } = userUpdateProfile\r\n\r\n    const orderListMy = useSelector(state => state.orderListMy)\r\n    const { loading: loadingOrders, error: errorOrders, orders } = orderListMy\r\n\r\n    const supplierProdictListMy = useSelector(state => state.supplierProdictListMy)\r\n    const { loading: loadingProducts, error: errorProducts, products } = supplierProdictListMy\r\n\r\n    useEffect(() => {\r\n\r\n        if (!userInfo) {\r\n            history.push('/login')\r\n        } else {\r\n            if (!user.name) {\r\n                dispatch(getUserDetails('profile'))\r\n                dispatch(listMyOrders())\r\n                dispatch(listMyProducts())\r\n            } else {\r\n                setName(user.name)\r\n                setEmail(user.email)\r\n                setCropSelection(user.cropSelection)\r\n            }\r\n        }\r\n    }, [userInfo, history, user, dispatch])\r\n\r\n    const submitHandler = (e) => {\r\n        e.preventDefault()\r\n        if (password !== confirmPassword) {\r\n            setMessage('Passwords do not match')\r\n        } else {\r\n            dispatch(updateUserProfile({ id: user._id, name, email, password, cropSelection }))\r\n        }\r\n    }\r\n\r\n    const handleClick = (event) => {\r\n        setShow(!show);\r\n        setTarget(event.target);\r\n\r\n    };\r\n\r\n\r\n    return (\r\n        <Container fluid style={{ marginBottom: '50px' }}>\r\n            <Meta\r\n                title=\"Agroic | Profile\"\r\n            />\r\n            <Row>\r\n                <Col md={3}>\r\n                    <h2 style={{ marginTop: '110px' }}>User Profile</h2>\r\n                    {message && <Message variant='danger'>{message}</Message>}\r\n                    {error && <Message variant='danger'>{error}</Message>}\r\n                    {success && <Message variant='success'>Profile Updated!</Message>}\r\n                    {loading && <Loader />}\r\n                    <Form onSubmit={submitHandler}>\r\n                        <Form.Group controlId='name'>\r\n                            <Form.Label>Name <span style={{ color: 'red' }}>*</span></Form.Label>\r\n                            <Form.Control\r\n                                type=\"name\"\r\n                                placeholder=\"Enter name\"\r\n                                value={name}\r\n                                required\r\n                                onChange={(e) => setName(e.target.value)}\r\n                            ></Form.Control>\r\n                        </Form.Group>\r\n                        <Form.Group controlId='email'>\r\n                            <Form.Label>Email Address / NIC <span style={{ color: 'red' }}>*</span></Form.Label>\r\n                            <Form.Control\r\n                                type=\"nic\"\r\n                                placeholder=\"Enter email or NIC\"\r\n                                value={email}\r\n                                required\r\n                                onChange={(e) => setEmail(e.target.value)}\r\n                            ></Form.Control>\r\n                        </Form.Group>\r\n                        <Form.Group controlId='cropSelection'>\r\n                            <Form.Label>Crop Selection (optional)</Form.Label>\r\n                            <Form.Control\r\n                                type=\"cropSelection\"\r\n                                placeholder=\"Enter cropSelection\"\r\n                                value={cropSelection}\r\n                                onChange={(e) => setCropSelection(e.target.value)}\r\n                            ></Form.Control>\r\n                        </Form.Group>\r\n                        <Form.Group controlId='password'>\r\n                            <Form.Label>Password</Form.Label>\r\n                            <Form.Control\r\n                                type=\"password\"\r\n                                placeholder=\"Enter password\"\r\n                                value={password}\r\n                                onChange={(e) => setPassword(e.target.value)}\r\n                            ></Form.Control>\r\n                        </Form.Group>\r\n                        <Form.Group controlId='confirmPassword'>\r\n                            <Form.Label>Confirm password</Form.Label>\r\n                            <Form.Control\r\n                                type=\"password\"\r\n                                placeholder=\"Confirm password\"\r\n                                value={confirmPassword}\r\n                                onChange={(e) => setConfirmPassword(e.target.value)}\r\n                            ></Form.Control>\r\n                        </Form.Group>\r\n                        <Button type=\"submit\" variant=\"primary\">Update</Button>\r\n                    </Form>\r\n                </Col>\r\n                <Col md={9}>\r\n                    <Scrollbar style={{ width: '100%', height: 630 }}>\r\n                        <Container fluid>\r\n                            <Row>\r\n                                <h2 style={{ marginTop: '110px' }}>My Orders</h2>\r\n                                {loadingOrders ? <Loader />\r\n                                    : errorOrders ? <Message variant=\"danger\">{errorOrders}</Message>\r\n                                        : (\r\n                                            <Table striped bordered hover responsive className=\"table-sm\">\r\n                                                <thead>\r\n                                                    <tr>\r\n                                                        <th>ID</th>\r\n                                                        <th>DATE</th>\r\n                                                        <th>TOTAL</th>\r\n                                                        <th>PAID</th>\r\n                                                        <th>DELIVERED</th>\r\n                                                        <th>MORE</th>\r\n                                                    </tr>\r\n                                                </thead>\r\n                                                <tbody>\r\n                                                    {orders.map(order => (\r\n                                                        <tr key={order._id}>\r\n                                                            <td>{order._id}</td>\r\n                                                            <td>{order.createdAt.substring(0, 10)}</td>\r\n                                                            <td>{order.totalPrice}</td>\r\n                                                            <td>{order.isPaid ? order.paidAt.substring(0, 10) :\r\n                                                                <i className=\"fas fa-times\" styles={{ color: \"red\" }}></i>\r\n                                                            }</td>\r\n                                                            <td>{order.isDelivered ? order.deliveredAt.substring(0, 10) :\r\n                                                                <i className=\"fas fa-times\" styles={{ color: 'red' }}></i>\r\n                                                            }</td>\r\n                                                            <td>\r\n                                                                <LinkContainer to={`/order/${order._id}`}>\r\n                                                                    <Button className=\"btn-sm\" variant=\"success\">Details</Button>\r\n                                                                </LinkContainer>\r\n                                                            </td>\r\n                                                        </tr>\r\n                                                    ))}\r\n                                                </tbody>\r\n                                            </Table>\r\n                                        )\r\n                                }\r\n                            </Row>\r\n                            <Row>\r\n                                <h2 style={{ marginTop: '110px' }}>My Products</h2>\r\n                                {loadingProducts ? <Loader />\r\n                                    : errorProducts ? <Message variant=\"danger\">{errorProducts}</Message>\r\n                                        : (\r\n                                            <Table striped bordered hover responsive className=\"table-sm\">\r\n                                                <thead>\r\n                                                    <tr>\r\n                                                        <th>NAME</th>\r\n                                                        <th>EMAIL/NIC</th>\r\n                                                        <th>ADDRESS</th>\r\n                                                        <th>IMAGE</th>\r\n                                                        <th>CROP</th>\r\n                                                        <th>REVIEWED</th>\r\n                                                        <th>EDIT</th>\r\n                                                    </tr>\r\n                                                </thead>\r\n                                                <tbody>\r\n                                                    {products.map(product => (\r\n                                                        <tr key={product._id}>\r\n                                                            <td>{product.name}</td>\r\n                                                            <td>{product.email}</td>\r\n                                                            <td>{product.address}</td>\r\n                                                            <td>\r\n                                                                <Image width={70} rounded src={product.image} />\r\n                                                            </td>\r\n                                                            <td>{product.cropSelection}</td>\r\n                                                            <td style={{ textAlign: \"center\" }}>\r\n                                                                {\r\n                                                                    product.isReviwed ? (\r\n                                                                        <Button\r\n                                                                            className=\"mt-2\"\r\n                                                                            ref={target}\r\n                                                                            onClick={handleClick}\r\n                                                                        > Check\r\n                                                                        </Button>\r\n                                                                    ) : <i className=\"fas fa-times\" style={{ color: 'red', fontSize: '24px' }}></i>\r\n                                                                }\r\n                                                                <Overlay\r\n                                                                    show={show}\r\n                                                                    target={target}\r\n                                                                    placement=\"bottom\"\r\n                                                                    container={ref.current}\r\n                                                                    containerPadding={10}\r\n                                                                >\r\n                                                                    <Popover id=\"popover-contained\">\r\n                                                                        <Popover.Title as=\"h3\">Rating: {product.rating}</Popover.Title>\r\n                                                                        {\r\n                                                                            product.reviews.map(review => (\r\n                                                                                <Popover.Content key={review._id}>\r\n                                                                                    <strong>Feedback: {review.comment}</strong>\r\n                                                                                </Popover.Content>\r\n                                                                            ))\r\n                                                                        }\r\n                                                                    </Popover>\r\n                                                                </Overlay>\r\n                                                            </td>\r\n                                                            <td>\r\n                                                                <LinkContainer to={`/supplierproducts/${product._id}/edit`}>\r\n                                                                    <Button variant=\"light\" className=\"btn btn-sm\">\r\n                                                                        <i className=\"fas fa-edit\"></i>\r\n                                                                    </Button>\r\n                                                                </LinkContainer>\r\n                                                            </td>\r\n                                                        </tr>\r\n                                                    ))}\r\n                                                </tbody>\r\n                                            </Table>\r\n                                        )\r\n                                }\r\n                            </Row>\r\n                        </Container>\r\n                    </Scrollbar>\r\n                </Col>\r\n            </Row>\r\n        </Container>\r\n    )\r\n}\r\n\r\nexport default ProfileScreen \r\n"]},"metadata":{},"sourceType":"module"}